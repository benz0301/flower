html, body { height: 100%; }
body {
  margin: 0;
  background: linear-gradient(180deg, #160014, #2a0030);
  overflow: hidden;
}
.ambient-backdrop {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(60vmax 60vmax at -10% -10%, rgba(220, 20, 60, 0.28), transparent 60%),
    radial-gradient(50vmax 50vmax at 110% 8%, rgba(138, 43, 226, 0.24), transparent 60%),
    radial-gradient(45vmax 45vmax at 50% 115%, rgba(128, 0, 128, 0.22), transparent 60%);
  animation: floatBackdrop 26s ease-in-out infinite alternate;
  will-change: transform;
}
@keyframes floatBackdrop {
  0%   { transform: translate3d(0, 0, 0) scale(1); }
  100% { transform: translate3d(0, -1.5rem, 0) scale(1.02); }
}

.phone-stage {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: min(92vw, 420px);
  height: min(92vh, 840px);
  border-radius: 28px;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(0,0,0,0.15);
  backdrop-filter: blur(2px);
}
.vignette {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(120% 90% at 50% 50%, transparent 55%, rgba(0,0,0,0.25) 100%);
  z-index: 1;
}

.flower-viewer {
  width: 100%;
  height: 100%;
  display: block;
  background:
    radial-gradient(80% 60% at 50% 60%, rgba(138, 43, 226, 0.30), rgba(220, 20, 60, 0.22) 45%, rgba(0,0,0,0) 70%),
    linear-gradient(180deg, #160014, #2a0030);
}

.question-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.45);
  padding: 24px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 220ms ease-in-out;
  z-index: 2;
}
.question-overlay[aria-hidden="false"] {
  opacity: 1;
  pointer-events: auto;
}
.question-card {
  max-width: 520px;
  width: 100%;
  padding: 22px 24px;
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(18,18,24,0.92), rgba(20,12,24,0.92));
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 18px 50px rgba(0,0,0,0.45), inset 0 0 0 1px rgba(255,255,255,0.04);
  transform: translateY(10px) scale(0.98);
  opacity: 0;
}
.question-overlay[aria-hidden="false"] .question-card {
  animation: cardPop 280ms cubic-bezier(.2, .9, .2, 1.2) forwards;
}
@keyframes cardPop {
  0%   { transform: translateY(10px) scale(0.98); opacity: 0; }
  60%  { transform: translateY(-2px) scale(1.02); opacity: 1; }
  100% { transform: translateY(0) scale(1); opacity: 1; }
}
.question-text {
  margin: 0;
  font: 700 22px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: #f8e9ff;
  text-align: center;
}
.actions-row { display: flex; justify-content: center; gap: 12px; margin-top: 16px; position: relative; }
.action-button {
  appearance: none;
  border: 0;
  border-radius: 999px;
  padding: 12px 18px;
  font: 700 14px/1 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: #ffffff;
  cursor: pointer;
  transition: transform 120ms ease, filter 120ms ease;
}
.action-button:hover { filter: brightness(1.05); transform: translateY(-1px); }
.action-button:active { transform: translateY(0); }
.action-button:focus { outline: 2px solid #8a2be2; outline-offset: 2px; }
.btn-yes { background: linear-gradient(90deg, #dc143c, #8a2be2); box-shadow: 0 10px 22px rgba(220, 20, 60, 0.45); }
.btn-no { background: linear-gradient(90deg, #333, #111); box-shadow: 0 10px 22px rgba(0, 0, 0, 0.45); }

.celebrate-layer { position: absolute; inset: 0; pointer-events: none; z-index: 4; }
.c-heart {
  position: absolute;
  font-size: 18px;
  will-change: transform, opacity;
  animation: fallHeart 1400ms ease-out forwards;
  text-shadow: 0 2px 8px rgba(220,20,60,0.6);
}
@keyframes fallHeart {
  0%   { transform: translate(0, -20px) scale(0.7) rotate(0deg); opacity: 0; }
  15%  { opacity: 1; }
  100% { transform: translate(var(--tx), var(--ty)) scale(1.2) rotate(var(--rot)); opacity: 0; }
}

.phone-stage.pulse { box-shadow: 0 0 0 0 rgba(220, 20, 60, 0.6), 0 20px 60px rgba(0,0,0,0.5); animation: pulseRing 1200ms ease-out 1; }
@keyframes pulseRing {
  0% { box-shadow: 0 0 0 0 rgba(220, 20, 60, 0.6), 0 20px 60px rgba(0,0,0,0.5); }
  100% { box-shadow: 0 0 0 24px rgba(220, 20, 60, 0), 0 20px 60px rgba(0,0,0,0.5); }
}

.fx-layer { position: absolute; inset: 0; pointer-events: none; z-index: 3; }
.bat {
  position: absolute;
  font-size: 18px;
  will-change: transform, opacity;
  animation: flyOut 1200ms ease-in forwards;
  text-shadow: 0 2px 8px rgba(138,43,226,0.55);
}
.spark {
  position: absolute;
  font-size: 12px;
  will-change: transform, opacity;
  animation: twinkle 900ms ease-out forwards;
  color: #f8e9ff;
  text-shadow: 0 0 8px rgba(248,233,255,0.7);
}
@keyframes flyOut {
  0%   { transform: translate(0, 0) scale(0.8) rotate(0deg); opacity: 0; }
  20%  { opacity: 1; }
  100% { transform: translate(var(--tx), var(--ty)) scale(1.3) rotate(var(--rot)); opacity: 0; }
}
@keyframes twinkle {
  0%   { transform: translate(0, 0) scale(0.6); opacity: 0; }
  30%  { opacity: 1; }
  100% { transform: translate(var(--tx), var(--ty)) scale(1.1); opacity: 0; }
}

.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
